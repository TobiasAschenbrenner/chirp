<form class="createPost" enctype="multipart/form-data" (ngSubmit)="onSubmit()">
  <p *ngIf="error" class="createPost__error-message">
    {{ error }}
  </p>

  <div class="createPost__top">
    <div class="createPost__avatar">
      <app-profile-image
        *ngIf="user() as u"
        [src]="u.profilePhoto ?? ''"
        size="md"
      ></app-profile-image>
    </div>

    <textarea
      name="body"
      [(ngModel)]="body"
      placeholder="What's on your mind?"
      required
      [disabled]="loading"
    ></textarea>
  </div>

  <div class="createPost__bottom">
    <span></span>

    <div class="createPost__actions">
      <label for="image" class="icon-button" aria-label="Add image" [class.isDisabled]="loading">
        <mat-icon>image</mat-icon>
      </label>

      <input
        #imageInput
        type="file"
        id="image"
        hidden
        (change)="onFileChange($event)"
        [disabled]="loading"
      />

      <button type="submit" [disabled]="!canSubmit">
        {{ loading ? 'Postingâ€¦' : 'Post' }}
      </button>
    </div>
  </div>
</form>
